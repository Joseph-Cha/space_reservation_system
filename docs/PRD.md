# PRD: 장소 예약 시스템
**Product Requirements Document**

---

## 1. 문서 정보
- **문서 버전**: 2.0
- **작성일**: 2025-11-09
- **최종 수정일**: 2025-12-28
- **문서 상태**: Implemented (Frontend)

---

## 2. 프로젝트 개요

### 2.1 목적
권한이 있는 사용자만 조직 내 회의실 및 공용 공간을 효율적으로 예약하고 관리할 수 있는 웹 기반 예약 시스템을 개발한다.

### 2.2 배경
조직 내 다양한 공용 장소(회의실, 세미나실, 휴게 공간 등)를 여러 팀과 구성원이 공유하여 사용하고 있으나, 체계적인 예약 관리 시스템이 부재하여 이중 예약, 공간 활용 비효율 등의 문제가 발생하고 있다.

### 2.3 범위
- **포함**: 장소 예약, 예약 조회/수정/삭제, 캘린더 기반 UI, 사용자 인증, 관리자 기능
- **미포함**: 모바일 앱, 결제 기능, 외부 시스템 연동

### 2.4 현재 구현 상태
- **Frontend**: ✅ 완료 (React + Vite)
- **Backend**: ❌ 미구현 (localStorage 사용 중)
- **Database**: ❌ 미구현 (localStorage 사용 중)
- **Email Service**: ❌ 미구현

---

## 3. 목표 및 성공 지표

### 3.1 비즈니스 목표
- 공간 활용률 향상
- 이중 예약 방지
- 예약 프로세스 간소화 및 투명성 확보

### 3.2 성공 지표 (KPI)
- 시스템 도입 후 이중 예약 발생률 0%
- 예약 완료까지 소요 시간 3분 이내
- 사용자 만족도 80% 이상
- 공간 활용률 측정 가능

---

## 4. 사용자 페르소나

### 4.1 일반 예약자 (Primary User)
- 조직 구성원으로 회의실 또는 공용 공간을 예약하려는 사용자
- 본인의 소속과 사용 목적을 명확히 기재
- 빠르고 직관적인 예약을 원함

### 4.2 관리자 (Admin) - ✅ 구현됨
- 사용자 계정 생성 및 관리
- 모든 예약 수정/삭제 권한
- 관리자 대시보드 접근

---

## 5. 기능 요구사항

### 5.1 사용자 인증 및 회원가입 ✅

| REQ ID | 요구사항 | 구현 상태 |
|--------|----------|-----------|
| REQ-001 | 사용자 ID 기반 회원가입 기능 제공 | ✅ |
| REQ-002 | 회원가입 시 입력 정보: 사용자 ID, 비밀번호(8자+영문숫자), 이름, 소속(드롭다운) | ✅ |
| REQ-003 | 사용자 ID 중복 확인 | ✅ |
| REQ-004 | 이메일 인증 프로세스 (6자리 인증번호) | ⚠️ UI만 구현 |
| REQ-005 | 로그인 기능 (ID + 비밀번호) | ✅ |
| REQ-006 | 로그아웃 기능 | ✅ |

### 5.2 캘린더 기반 날짜 선택 ✅

| REQ ID | 요구사항 | 구현 상태 |
|--------|----------|-----------|
| REQ-007 | 메인 화면에서 캘린더 형태로 날짜 확인 | ✅ |
| REQ-008 | 날짜 클릭으로 예약 화면 이동 | ✅ |
| REQ-009 | 과거 날짜 선택 불가 | ✅ |
| REQ-010 | 소속별 예약 오픈 일정 적용 (교역자: 2번째 일요일, 기타: 3번째 일요일/수요일) | ✅ |

### 5.3 장소 및 시간 테이블 조회 ✅

| REQ ID | 요구사항 | 구현 상태 |
|--------|----------|-----------|
| REQ-011 | 선택한 날짜의 장소별 시간대 예약 현황 테이블 표시 | ✅ |
| REQ-012 | 10개 장소 지원 (월드비전홀, 순보금자리 등) | ✅ |
| REQ-013 | 시간대: 07:00 ~ 22:00, 30분 단위 (30개 슬롯) | ✅ |
| REQ-014 | 예약 가능/불가능 상태 시각적 구분 | ✅ |
| REQ-015 | 소속별 색상 코딩 (7개 부서 색상) | ✅ |
| REQ-016 | 소속 색상 범례(Legend) 표시 | ✅ |

### 5.4 예약 생성 ✅

| REQ ID | 요구사항 | 구현 상태 |
|--------|----------|-----------|
| REQ-017 | 빈 시간대 클릭으로 예약 모달 표시 | ✅ |
| REQ-018 | 예약 정보: 소속(드롭다운), 이름(자동입력), 목적, 시작/종료 시간 | ✅ |
| REQ-019 | 시작 시간 < 종료 시간 유효성 검증 | ✅ |
| REQ-020 | 시간 중복 예약 불가 안내 | ✅ |
| REQ-021 | 멀티 슬롯 예약 지원 (예: 9:00-11:00) | ✅ |

### 5.5 예약 수정/삭제 ✅

| REQ ID | 요구사항 | 구현 상태 |
|--------|----------|-----------|
| REQ-022 | 본인 예약 수정/삭제 가능 | ✅ |
| REQ-023 | 관리자는 모든 예약 수정/삭제 가능 | ✅ |
| REQ-024 | 예약된 셀 클릭 시 수정/삭제 모달 표시 | ✅ |
| REQ-025 | 수정 가능한 예약에 호버 효과 표시 | ✅ |

### 5.6 내 예약 조회 ✅

| REQ ID | 요구사항 | 구현 상태 |
|--------|----------|-----------|
| REQ-026 | 내 예약 목록 페이지 (/my-reservations) | ✅ |
| REQ-027 | 현재 예약 목록 (수정/삭제 가능) | ✅ |
| REQ-028 | 과거 예약 목록 (읽기 전용) | ✅ |

### 5.7 관리자 기능 ✅

| REQ ID | 요구사항 | 구현 상태 |
|--------|----------|-----------|
| REQ-029 | 관리자 대시보드 (/admin) | ✅ |
| REQ-030 | 사용자 목록 조회 | ✅ |
| REQ-031 | 새 사용자 계정 생성 (이메일 인증 불필요) | ✅ |
| REQ-032 | 사용자 정보 수정 | ✅ |
| REQ-033 | 사용자 계정 삭제 | ✅ |
| REQ-034 | 사용자 유효기간 설정 (1년) | ✅ |

### 5.8 도움말 ✅

| REQ ID | 요구사항 | 구현 상태 |
|--------|----------|-----------|
| REQ-035 | 도움말 모달 | ✅ |
| REQ-036 | 예약 시스템 이용 안내 | ✅ |
| REQ-037 | 소속별 예약 오픈 일정 표시 | ✅ |
| REQ-038 | 담당자 연락처 정보 | ✅ |

---

## 6. 비기능 요구사항

### 6.1 성능
- **NFR-001**: 페이지 로딩 시간 3초 이내 ✅
- **NFR-002**: 예약 생성 응답 시간 2초 이내 ✅

### 6.2 사용성
- **NFR-003**: 직관적인 UI/UX ✅
- **NFR-004**: 반응형 웹 디자인 ✅
- **NFR-005**: ESC 키로 모달 닫기 ✅

### 6.3 보안
- **NFR-006**: 인증되지 않은 사용자 접근 차단 ✅
- **NFR-007**: 비밀번호 암호화 ❌ (Backend 필요)
- **NFR-008**: HTTPS 적용 ⚠️ (Netlify 자동 적용)

### 6.4 확장성
- **NFR-009**: 장소 추가/삭제 용이한 구조 ✅ (constants.js)
- **NFR-010**: 모듈화된 컴포넌트 아키텍처 ✅

---

## 7. 지원 장소 목록

| # | 장소명 | 비고 |
|---|--------|------|
| 1 | 월드비전홀 | |
| 2 | 순보금자리 | |
| 3 | 푸른초장 | |
| 4 | 쉴만한 물가 | |
| 5 | 넘치는 잔 | |
| 6 | Vision Factory 1 | |
| 7 | Vision Factory 2 | |
| 8 | Vision Factory 3 | |
| 9 | Vision Factory 4 | |
| 10 | Vision Factory 5 | |

---

## 8. 소속/부서 및 색상

| 소속 | 색상 코드 | 예약 오픈일 |
|------|-----------|-------------|
| 교역자 | #FF6B6B (빨강) | 매월 2번째 일요일 |
| 비전브릿지 | #4ECDC4 (청록) | 매월 3번째 일요일 |
| CAM | #45B7D1 (파랑) | 매월 3번째 일요일 |
| 프뉴마 | #96CEB4 (녹색) | 매월 3번째 일요일 |
| 가스펠 | #FFEAA7 (노랑) | 매월 3번째 일요일 |
| 카리스 | #DDA15E (주황) | 매월 3번째 일요일 |
| 기타 | #B19CD9 (보라) | 매월 3번째 수요일 |

---

## 9. 데이터 모델

### 9.1 사용자 (User) - localStorage: 'users'
```javascript
{
  userId: string,           // PK, 고유 사용자 ID
  password: string,         // 비밀번호 (평문 - 보안 이슈)
  name: string,             // 이름
  department: string,       // 소속 (7개 부서 중 하나)
  role: 'user' | 'admin',   // 권한
  expiresAt: string,        // 계정 만료일 (ISO)
  createdAt: string         // 생성일 (ISO)
}
```

### 9.2 예약 (Reservation) - localStorage: 'reservations'
```javascript
{
  [date: YYYY-MM-DD]: {
    [space-time: "장소명-HH:MM"]: {
      userId: string,       // 예약자 ID
      name: string,         // 예약자 이름
      department: string,   // 소속
      purpose: string,      // 예약 목적
      startTime: string,    // 시작 시간 (HH:MM)
      endTime: string,      // 종료 시간 (HH:MM)
      space: string,        // 장소명
      time: string,         // 슬롯 시간
      isStart: boolean      // 멀티슬롯의 첫 번째 슬롯 여부
    }
  }
}
```

### 9.3 현재 사용자 (CurrentUser) - localStorage: 'currentUser'
로그인된 사용자 객체 저장. 로그아웃 시 삭제.

---

## 10. 화면 구조

### 10.1 라우트 구성
| 경로 | 컴포넌트 | 설명 |
|------|----------|------|
| / | → /login | 리다이렉트 |
| /signup | SignUp | 회원가입 |
| /login | Login | 로그인 |
| /calendar | Calendar | 캘린더 (메인) |
| /reservation/:date | Reservation | 예약 테이블 |
| /my-reservations | MyReservations | 내 예약 목록 |
| /admin | Admin | 관리자 대시보드 |

### 10.2 네비게이션 구조
```
Calendar (캘린더)
├── Header: 도움말, 내 예약, 관리자(관리자만), 로그아웃
└── → Reservation (날짜 클릭)
    ├── Header: 내 예약, 로그아웃
    ├── 소속 색상 범례
    └── 예약 테이블

MyReservations (내 예약)
├── Header: 캘린더, 관리자(관리자만), 로그아웃
├── 현재 예약 목록
└── 과거 예약 목록

Admin (관리자)
├── Header: 캘린더, 로그아웃
├── 사용자 목록
└── 사용자 생성 폼
```

---

## 11. 기술 스택

### 현재 구현
| 영역 | 기술 |
|------|------|
| Frontend | React 19.1.1 + Vite 7.1.7 |
| Routing | React Router DOM 7.9.5 |
| Styling | Plain CSS (컴포넌트별 분리) |
| Linting | ESLint 9.x + React Hooks Plugin |
| Storage | localStorage (임시) |
| Deployment | Netlify |

### Backend 구현 예정
| 영역 | 권장 기술 |
|------|-----------|
| Backend | Node.js (Express) 또는 Python (Django/Flask) |
| Database | PostgreSQL 또는 MySQL |
| Auth | JWT 또는 Session 기반 |
| Password | bcrypt 또는 argon2 |
| Email | SMTP (Gmail, AWS SES, SendGrid) |

---

## 12. 관리자 계정 정보

| 항목 | 값 |
|------|-----|
| 사용자 ID | admin |
| 비밀번호 | Admin1234 |
| 생성 방식 | 앱 초기화 시 자동 생성 (main.jsx) |

---

## 13. 알려진 이슈 및 기술 부채

### 13.1 보안 취약점
- ❌ 비밀번호 평문 저장 (해싱 필요)
- ❌ CSRF 보호 없음
- ❌ 이메일 인증 코드 실제 발송 안됨

### 13.2 데이터 영속성
- ❌ localStorage 사용 (브라우저 캐시 삭제 시 데이터 손실)
- ❌ 서버 사이드 검증 없음
- ❌ 동시성 제어 없음 (동시 예약 충돌 가능)

### 13.3 기능 미구현
- ❌ 비밀번호 재설정
- ❌ 반복 예약
- ❌ 이메일 알림
- ❌ 예약 시간 리마인더

---

## 14. 향후 로드맵

### Phase 2 (Backend 구현)
- [ ] Node.js/Express 백엔드 구축
- [ ] PostgreSQL 데이터베이스 연동
- [ ] JWT 인증 시스템 구현
- [ ] 비밀번호 해싱 (bcrypt)
- [ ] 이메일 인증 코드 실제 발송

### Phase 3 (기능 확장)
- [ ] 비밀번호 재설정
- [ ] 반복 예약 (주간/월간)
- [ ] 이메일 알림
- [ ] 푸시 알림
- [ ] 통계 및 리포트

### Phase 4 (고도화)
- [ ] 소셜 로그인 (Google, Naver)
- [ ] 모바일 앱 (React Native)
- [ ] 실시간 업데이트 (WebSocket)
- [ ] 장소별 이용률 분석

---

## 15. 참고 문서

| 문서 | 설명 |
|------|------|
| CLAUDE.md | 개발 가이드 및 코드 컨벤션 |
| README.md | 프로젝트 소개 및 실행 방법 |
| docs/기획 문서.md | 초기 기획 문서 |

---

## 변경 이력

| 버전 | 날짜 | 변경 내용 | 작성자 |
|------|------|-----------|--------|
| 1.0 | 2025-11-09 | 초안 작성 | - |
| 1.1 | 2025-11-09 | 이메일 기반 회원가입 및 인증번호 인증 기능 추가 | - |
| 2.0 | 2025-12-28 | 현재 구현 상태 기반 전면 재작성. 관리자 기능, 소속별 예약 오픈 일정, 색상 코딩, 내 예약, 도움말 등 반영 | Claude |
